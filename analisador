import requests
import json
import subprocess
import os

caminho_arquivo = 'caminho/do/arquivo'
# Configure o URL e a chave de API para a chamada da API do Microsoft Defender Antivirus;ConfigurAR as informações do arquivo;  # ALTERAR o cabeçalho ;EnviAR a solicitação;
print("Gostaria de uma verificação rápida ou completa?")
while verif = x
verif = int(input("Digite "1" para verificação rápida ou "2" para verificação completa: ")
if verif ==1
    def check_file_for_virus(file_path):    
    url = "https://api.livemeeting.ms/api/file/scan"
    api_key1 = "<SUA_CHAVE_DE_API_AQUI>"   
    files = {'file': open(file_path, 'rb')}   
    headers = {'Ocp-Apim-Subscription-Key': api_key2}
    response = requests.post(url, headers=headers, files=files)
    result = json.loads(response.content)    
    if result["detected"] == True:
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")

        while apg =y 
        print("Deseja apagar esse arquivo?")
        apg = int(input("Digite "1" para deletar o ou "2" amnter o arquivo ")
                  if apg ==1
                  caminho_do_arquivo = "/caminho/para/o/arquivo/arquivo.txt"
                    if os.path.exists(caminho_do_arquivo):
                        os.remove(caminho_do_arquivo)
                         print("Arquivo apagado com sucesso!")
                         break
                    else:
                        print("O arquivo não existe ou não é possível acessá-lo.")
                        break
                  


                  
                  

    else:
        print("O arquivo está limpo.")

    check_file_for_virus("C:caminho/para/o/arquivo/suspeito.exe")
    subprocess.run(caminho_arquivo, shell=True)


elif verif ==2
 def check_file_for_virus(file_path):    
    url = "https://api.livemeeting.ms/api/file/scan"
    api_key1 = "<SUA_CHAVE_DE_API_AQUI>"   
    files = {'file': open(file_path, 'rb')}   
    headers = {'Ocp-Apim-Subscription-Key': api_key1}
    response = requests.post(url, headers=headers, files=files)
    result = json.loads(response.content)    
    if result["detected"] == True:
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")

        while apg =y 
        print("Deseja apagar esse arquivo?")
        apg = int(input("Digite "1" para deletar o ou "2" amnter o arquivo ")
                  if apg ==1
                  caminho_do_arquivo = "/caminho/para/o/arquivo/arquivo.txt"
                    if os.path.exists(caminho_do_arquivo):
                        os.remove(caminho_do_arquivo)
                         print("Arquivo apagado com sucesso!")
                         break
                    else:
                        print("O arquivo não existe ou não é possível acessá-lo.")
                        break
        
                  


                  
                  

    else:
     url = "https://api.livemeeting.ms/api/file/scan"
     api_key2 = "<SUA_CHAVE_DE_API_AQUI>"   
     files = {'file': open(file_path, 'rb')}   
     headers = {'Ocp-Apim-Subscription-Key': api_key2 }
     response = requests.post(url, headers=headers, files=files)
     result = json.loads(response.content)    
      if result["detected"] == True:
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")

        while apg =y 
        print("Deseja apagar esse arquivo?")
        apg = int(input("Digite "1" para deletar o ou "2" amnter o arquivo ")
            if apg ==1
            caminho_do_arquivo = "/caminho/para/o/arquivo/arquivo.txt"
                if os.path.exists(caminho_do_arquivo):
                        os.remove(caminho_do_arquivo)
                         print("Arquivo apagado com sucesso!")
                         break
                else:
                        print("O arquivo não existe ou não é possível acessá-lo.")
                        break
            elif apg = 2 :
                        print("Arquivo mantido!")
                        break
            else:
                        print("Comando inválido, repetindo pergunta:")
                        
        
                        
        
    
        

    check_file_for_virus("C:caminho/para/o/arquivo/suspeito.exe")
    subprocess.run(caminho_arquivo, shell=True)
    url = "https://api.livemeeting.ms/api/file/scan"
     api_key3 = "<SUA_CHAVE_DE_API_AQUI>"   
     files = {'file': open(file_path, 'rb')}   
     headers = {'Ocp-Apim-Subscription-Key': api_key3 }
     response = requests.post(url, headers=headers, files=files)
     result = json.loads(response.content)    
      if result["detected"] == True:
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")

        while apg =y 
        print("Deseja apagar esse arquivo?")
        apg = int(input("Digite "1" para deletar o ou "2" amnter o arquivo ")
            if apg ==1
            caminho_do_arquivo = "/caminho/para/o/arquivo/arquivo.txt"
                if os.path.exists(caminho_do_arquivo):
                        os.remove(caminho_do_arquivo)
                         print("Arquivo apagado com sucesso!")
                         break
                else:
                        print("O arquivo não existe ou não é possível acessá-lo.")
                        break
            elif apg = 2 :
                        print("Arquivo mantido!")
                        break
            else:
                        print("Comando inválido, repetindo pergunta:")
    url = "https://api.livemeeting.ms/api/file/scan"
    api_key2 = "<SUA_CHAVE_DE_API_AQUI>"   
    files = {'file': open(file_path, 'rb')}   
    headers = {'Ocp-Apim-Subscription-Key': api_key2 }
    response = requests.post(url, headers=headers, files=files)
    result = json.loads(response.content)    
      if result["detected"] == True:
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("CUIDADO!!!")
        print("O arquivo foi detectado como um vírus!")

        while apg =y 
        print("Deseja apagar esse arquivo?")
        apg = int(input("Digite "1" para deletar o ou "2" amnter o arquivo ")
            if apg ==1
            caminho_do_arquivo = "/caminho/para/o/arquivo/arquivo.txt"
                if os.path.exists(caminho_do_arquivo):
                        os.remove(caminho_do_arquivo)
                         print("Arquivo apagado com sucesso!")
                         break
                else:
                        print("O arquivo não existe ou não é possível acessá-lo.")
                        break
            elif apg = 2 :
                        print("Arquivo mantido!")
                        break
            else:
                        print("Comando inválido, repetindo pergunta:")

else:
                        print("Comando inválido, repetindo pergunta:")

  
